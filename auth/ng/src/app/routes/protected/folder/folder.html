<div class="container mx-auto px-5">
  <p-button class="fixed bottom-3 right-3"
            pAnimateOnScroll
            enterClass="animate-enter fade-in-10 animate-duration-1000"
            once=true
            type="button"
            (click)="fab = true"
            icon="pi pi-plus"/>

  <div class="mt-5 pb-30">
    <div class="flex-row overflow-hidden">
      @for (folder of folderService.folderList(); track folder.id) {
        <div
          pAnimateOnScroll
          enterClass="animate-enter fade-in-10 animate-duration-1000"
          once=true
          class="flex flex-col"
        >
          <div class="my-3 flex gap-3 items-center">
            <a
              [routerLink]="'/protected/todos/' + folder.id"
              class="w-full left border border-gray-200 px-4 py-2 shadow rounded-full hover:bg-gray-100"
            >
              <div class="flex justify-between">
                <div>{{ folder.name }}</div>
                <div>
                  <small>{{ folder.todos.length }} Aufgaben</small>
                </div>
              </div>
            </a>
            <p-button icon="pi pi-trash"
                      (click)="deleteFolder(folder.id)"
                      [rounded]="true"
                      [text]="true"
                      severity="danger"/>
          </div>
        </div>
      }
    </div>
  </div>

  <p-drawer header="New Folder" [(visible)]="fab" position="bottom">
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
      <div class="flex gap-3">
        <input class="w-full" pInputText type="text" placeholder="" formControlName="newFolder">
        <div class="">
          <p-button type="submit"
                    [disabled]="!profileForm.valid"
                    (click)="fab = true"
                    icon="pi pi-send"/>
        </div>
      </div>

    </form>
  </p-drawer>
  <p-confirmDialog/>
</div>
