<div class="container mx-auto px-5">
  <p-button class="fixed! bottom-4! right-4! fx-button"
            pAnimateOnScroll
            enterClass="animate-enter fade-in-10 animate-duration-1000"
            once=true
            type="button"
            severity="success"
            (click)="fab = true"
            icon="pi pi-plus"/>

  <div class="pt-5 pb-20">
    <div class="flex-row overflow-hidden">
      @for (folder of folderService.folderList(); track folder.id) {
        <div
          pAnimateOnScroll
          enterClass="animate-enter fade-in-10 animate-duration-1000"
          once=true
          class="flex flex-col"
        >
          <div class="my-3 flex gap-3 items-center">
            <a
              [routerLink]="'/protected/todos/' + folder.id"
              class="b-0 w-full left border border-gray-200 px-4 py-2 shadow rounded-full"
            >
              <div class="flex justify-between">
                <div>{{ folder.name }}</div>
                <div>
                  <small>{{ folder.todos.length }} Aufgaben</small>
                </div>
              </div>
            </a>
            <p-button icon="pi pi-trash"
                      (click)="deleteFolder(folder.id)"
                      [rounded]="true"
                      [text]="true"
                      severity="danger"/>
          </div>
        </div>
      }
    </div>
  </div>

  <p-drawer closable="false" [(visible)]="fab" position="bottom">
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
      <div class="flex gap-3">
        <input class="w-full" pInputText type="text" placeholder="" formControlName="newFolder">
          <p-button type="submit"
                    class="fx-button"
                    severity="success"
                    [disabled]="!profileForm.valid"
                    (click)="fab = true"
                    icon="pi pi-send"/>
      </div>
    </form>
  </p-drawer>
  <p-confirmDialog/>
</div>
