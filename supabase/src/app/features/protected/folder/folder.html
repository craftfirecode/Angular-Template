<p-button class="fixed bottom-5 right-5"
          type="button"
          (click)="fab = true"
          icon="pi pi-plus"/>

<main class="mt-5 pb-30">
  <div class="flex-row overflow-hidden">
    @for (folder of folderService.folderList(); track folder.id) {
      <div
        pAnimateOnScroll
        enterClass="animate-enter fade-in-10 slide-in-from-r-8 animate-duration-1000"
        leaveClass="animate-leave fade-out-0"
        once=true
        class="flex flex-col"
      >
        <div class="my-3 flex gap-3 items-center">
          <a
            [routerLink]="'/protected/todos/' + folder.id"
            class="w-full left border border-gray-200 px-4 py-2 shadow rounded-full hover:bg-gray-100"
          >
            <div class="flex justify-between">
              <div>{{ folder.name }}</div>
              <div>
                <small>{{ folder.todos.length }} Aufgaben</small>
              </div>
            </div>
          </a>
          <p-button icon="pi pi-trash"
                    (click)="deleteFolder(folder.id)"
                    [rounded]="true"
                    [text]="true"
                    severity="danger"/>
        </div>
      </div>
    }
  </div>
</main>

<p-drawer header="New Folder" styleClass="h-full" [(visible)]="fab" position="bottom">
  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="w-full">
    <div class="flex flex-col gap-5 my-5">
      <input pInputText type="text" placeholder="" formControlName="newFolder">
    </div>
    <div class="mt-5 mb-15">
      <p-button type="submit"
                [disabled]="!profileForm.valid"
                (click)="fab = true"
                icon="pi pi-send"/>
    </div>
  </form>
</p-drawer>

<p-confirmDialog/>
<!--<button (click)="log()">log</button>-->
