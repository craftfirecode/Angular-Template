<main class="mt-5 pb-30">
  <a href="/supabase/public" matButton="outlined">Zur√ºck</a>
  <div class="my-5">
    @for (todo of filteredTodos(); track todo.id) {
      <div class="my-5 flex gap-3 items-center">
        <input type="checkbox" [checked]="todo.completed" (change)="toggleCompleted(todo, todo.completed)" />
        <button class="w-full left" matButton="outlined">
          <span [ngClass]="{ 'line-through': todo.completed }">{{ todo.title }}</span>
        </button>
        <div role="button" (click)="deleteTodo(todo.id)">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
               class="lucide lucide-trash-icon lucide-trash text-red-500">
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/>
            <path d="M3 6h18"/>
            <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
          </svg>
        </div>
      </div>
    }
  </div>
  <button matFab="elevated" (click)="openBottomSheet()" class="fab">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
         class="lucide lucide-plus-icon lucide-plus">
      <path d="M5 12h14"/>
      <path d="M12 5v14"/>
    </svg>
  </button>
</main>

<style>
.line-through {
  text-decoration: line-through;
}

input[type="checkbox"] {
  width: 1.5em;
  height: 1.5em;
  accent-color: black; /* Tailwind blue-500 */
  border-radius: 0.3em;
  transition: box-shadow 0.2s;
}
input[type="checkbox"]:focus {
  border: 2px solid #d1d5db; /* Tailwind gray-300 */
  outline: none;
  box-shadow: none;
}
</style>
