<p-button class="fixed bottom-10 right-10"
          type="button"
          (click)="openDrawer()"
          icon="pi pi-plus"/>

<main class="mt-5 pb-30">
  <a routerLink="/supabase/public/" pButton class="p-button-outlined" severity="contrast">Zur√ºck</a>
  <div class="my-5">
    @for (todo of data.todoList(); track todo.id) {
      <div class="my-5 flex gap-3 items-center">
        <input type="checkbox" [checked]="todo.completed" (change)="toggleCompleted(todo, todo.completed)" />
        <div class="w-full left border border-gray-200 px-4 py-2 shadow rounded-full hover:bg-gray-100">
          <span [ngClass]="{ 'line-through': todo.completed }">{{ todo.title }}</span>
        </div>
        <button pButton type="button" icon="pi pi-trash" class="p-button-text p-button-rounded p-button-danger" (click)="deleteTodo(todo.id)"></button>
      </div>
    }
  </div>

</main>

<p-drawer header="New Todo" styleClass="h-full" [(visible)]="fab" position="bottom">
  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="w-full">
    <div class="flex flex-col gap-5 mt-5">
      <input pInputText type="text" placeholder="New Todo" formControlName="newTodo" />
    </div>
    <div class="mt-5 mb-15">
      <p-button type="submit" label="Submit" icon="pi pi-send" [disabled]="!profileForm.valid"></p-button>
    </div>
  </form>
</p-drawer>

<p-confirmDialog />
